// ==========================================================================
// MODULES
// ==========================================================================


//
//
// COLORS
.dark  
  background: $d-grey
  color: #fff 
.light
  background: #fff
  color: $black
.l-grey
  background: $l-grey
  color: $black
.gradient
  color: #fff
  +gradient($l-blue, $d-blue)


//
//
// SHADOWS
.shadows
  +box-shadow($l-shadows)

//
//
// BORDERS
.border
  position: relative
  &:after
    content: "" 
    display: block
    width: 1px
    height: 1px
    background: $l-blue
    position: absolute
  
.border-left
  @extend .border
  &:after
    top: 0
    left: 0
    height: 100%

.border-right
  @extend .border
  &:after
    top: 0
    right: 0
    height: 100%

.border-bottom
  @extend .border
  &:after
    bottom: 0
    left: 0
    width: 100%

.border-top
  @extend .border
  &:after
    left: 0
    top: 0
    width: 100%

//
//
// EXPANDABLES
.expandable
  width: 90%
  +prefix(transition, width 200ms $ease)

//
//
// THUMBNAILS
.thumb
  overflow: hidden
  +border-radius(50%)
  img
    min-width: 100%
    min-height: 100%

//
//
// Buttons
.btn
  background: transparent
  border: none
  cursor: pointer
  outline: none
  overflow: hidden
  padding: 0.5em 1em ($shadow-length + 0.45) 1em
  margin: 3px $xsmall (-$shadow-length + 0.45) 0
  position: relative
  text-transform: uppercase
  +border-radius(4px)
  font-family: $font-titillium
  line-height: 1.2
  z-index: 0
  
  &:before,
  &:after,
  >*:before,
  >*:after
    content: ""
    display: block
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    cursor: pointer
  &:before,
  &:after,
  >*:before
    height: auto
    width: auto
    left: 0
    right: 0
    top: 0
    bottom: $shadow-length
  
  &:after
    z-index: -1
    +border-radius(4px)
    border: 1px solid $l-grey
    +box-shadow($shadows)
    +prefix(transition, border-color 120ms $ease)
  &:before
    right: 100%
    z-index: -1
    background: $l-grey
    +border-radius(4px)
    +prefix(transition, right 120ms $ease,  background 120ms $ease)
  
  >*
    &:before
      background: #fff
      z-index: -2

    &:after
      text-align: right
      font-size: 0.8em
      padding: 0.2em 1em
      color: $grey
      
      +prefix(transition, color 120ms linear 60ms)
 
  // dark context
  .dark &
    color: #fff
    &:before
      background: $black
    &:after
      border-color: $m-grey
    >*
      &:before
        background: $d-grey
    &.toggle.active:after
      border-color: $d-blue

  // LIGHT GREY CONTEXT
  .l-grey &
    &:before
      background: $l-grey
    &:after
      border-color: $grey
    >*
      &:before
        background: $l-grey
  
       
  //
  //
  // HOVER
  .no-touch &:hover
    &:before
      right: 1px
    >*:after
      color: $l-blue
        
        
  // huge btns
  &.big
    font-size: 1.25em
    &.toggle
      >*:after
        line-height: 2.7em

  //
  //
  // toggle    
  &.toggle
    padding-right: 2em
    &:before
    >*
      @extend .icon-more
      &:after
        text-align: right
        line-height: 2.25em
    &.active
      color: $l-grey
      &:before
        background: $d-blue
        right: 1px
      &:after
        border-color: $d-blue
      >*
        @extend .icon-close
        &:after
          color: $l-grey
      .no-touch &:hover
        color: #fff
        >*   
          &:after
            color: $l-blue
   
  //
  //       
  // seamless
  &.seamless
    &:before,
    >*:before
      display: none
    &:after
      +opacity(0)
      +prefix(transition, opacity 240ms ease-in-out)
    .no-touch &:hover
      &:after
        +opacity(1)

  //
  //
  // SEAMLESS TOGGLE
  &.seamless.toggle
    &:before,
    >*:before
      display: block
  
//
//
// Profiles
.profile
  @extend .btn
  padding: 0.2em 0.5em ($shadow-length + 0.15) 0.5em
  margin: 3px $xsmall (-$shadow-length + 0.15) 0
  &:before
    display: none
  >*
    height: 3.6em
    padding-left: 4em
  .thumb
    position: absolute
    top: 0.8em
    left: 0.875em
    height: 2.4em
    width: 2.4em
  .infos
    height: 100%
    width: 100%
    position: relative
    overflow: hidden
    +align-children(middle)
  .name
    font-size: 1.25em
    line-height: 1
    font-weight: 700
    color: $d-blue
    text-transform: none
    padding-right: 2.4em
    +prefix(transition, margin 320ms $ease)
  .links
    position: absolute
    left: 100%
    top: 0
    height: 100%
    width: 100%
    z-index: 1
    text-align: right
    padding-left: 2.4em
    margin-left: -2.4em
    cursor: default
    +prefix(transition, left 320ms $ease, margin-left 320ms $ease)
    @extend .icon-user
    &:after
      position: absolute
      top: 0
      left: 0
      height: 2.4em
      width: 2em
      text-align: left
      line-height: 2.75em
      font-size: 1.5em
      color: $grey
      
    ul
      height: 100%
      +align-children(middle)
      &:before
        margin-left: 0
    li
      +inlineb
    a
      text-align: left
      text-indent: -9999px
      display: block
      width: 1.5em
      height: 2em
      position: relative
      color: $d-grey
      &:after
        position: absolute
        top: 0
        left: 0
        line-height: 2em
        height: 100%
        width: 100%
      .no-touch &:hover
        color: $l-blue
      &.facebook
        @extend .icon-facebook
      &.twitter
        @extend .icon-twitter
      &.linkedin
        @extend .icon-linkedin

  &.mini
    font-size: 0.75em
    >*
      height: 2.75em
    .thumb
      width: 2.5em
      height: 2.5em
      top: 0.33em
      left: 0.5em
    .name
      text-indent: 4px
      color: $d-grey
      font-weight: 400
    .links
      font-size: 1.25em
      &:after
        height: 1.5em
        line-height: 1.75em
        color: #fff
        +prefix(transition, color 240ms linear)
    .no-touch &:hover
      .links:after
        color: $grey
    
  // HOVER
  &.active,
  .no-touch &:hover
    .name
      margin-left: -100%
    .links
      left: 0
      margin-left: 0