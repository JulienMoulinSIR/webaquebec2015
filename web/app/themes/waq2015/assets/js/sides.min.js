!function(t){function e(t){var e=t.moGrab.s,i=t.moSides;i.left&&i.left.active?(e.min.x=e.max.x=i.left.size,e.triggerLength={right:i.left.triggerSize?i.left.triggerSize:0,left:0,top:0,bottom:0}):i.right&&i.right.active?(e.min.x=e.max.x=-i.right.size,e.triggerLength={left:i.right.triggerSize?i.right.triggerSize:0,right:0,top:0,bottom:0}):i.top&&i.top.active?(e.min.y=e.max.y=i.top.size,e.triggerLength={top:i.bottom.triggerSize?i.bottom.triggerSize:0,left:0,right:0,bottom:0}):i.bottom&&i.bottom.active?(e.min.y=e.max.y=-i.bottom.size,e.triggerLength={bottom:i.top.triggerSize?i.top.triggerSize:0,left:0,right:0,top:0}):(e.min=e.max={x:0,y:0},e.triggerLength={left:i.left.triggerSize?i.left.triggerSize:0,right:i.right.triggerSize?i.right.triggerSize:0,top:i.top.triggerSize?i.top.triggerSize:0,bottom:i.bottom.triggerSize?i.bottom.triggerSize:0})}function i(e,i){var r=e.moSides;t.each(r,function(t){r[t].active=t==i?!r[t].active:!1})}function r(e,r){var o=e.moSides,g=e.moGrab.s,a=e.moGrab.drag;if(r||g.axis.x&&a.locked.x){if("left"==r||o.left&&(o.left.active?a.delta.x<0:a.delta.x>0)&&a.origin.x>=0)return i(e,"left"),"function"==typeof o.left.callback&&o.left.callback(g),a.target.x=o.left.active?o.left.size:0,a.target.y=0,void t(document).trigger("release",e);if("right"==r||o.right&&(o.right.active?a.delta.x>0:a.delta.x<0)&&a.origin.x<=0)return i(e,"right"),"function"==typeof o.right.callback&&o.right.callback(g),a.target.x=o.right.active?-o.right.size:0,a.target.y=0,void t(document).trigger("release",e)}if(r||g.axis.y&&a.locked.y){if(r="top")return i(e,"top"),"function"==typeof o.top.callback&&o.top.callback(g),a.target.y=o.top.active?o.top.size:0,a.target.x=0,void t(document).trigger("release",e);if("bottom"==r||o.bottom&&(o.bottom.active?a.delta.y>0:a.delta.y<0)&&a.origin.y<=0)return i(e,"bottom"),"function"==typeof o.bottom.callback&&o.bottom.callback(g),a.target.y=o.bottom.active?-o.bottom.size:0,a.target.x=0,void t(document).trigger("release",e)}t(document).trigger("release",e)}var o=("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,"click");t.extend(t.fn,{moSides:function(i,g){if(0!=t(this).length){var a=t(this);if("string"!=typeof i){for(var l=0;l<a.length;l++){var n=a[l];n.moSides||(n.moSides={top:!1,right:!1,bottom:!1,left:!1}),t.each(i,function(e,i){if(i){var g=n.moSides[e];if(0==g){var a=0,l=null,c=null,f=null;switch(typeof i){case"number":a=i;break;case"object":i.size&&(a=i.size),i.callback&&(f=i.callback),i.toggle&&(c=i.toggle),l=i.triggerSize?i.triggerSize:a/2;break;case"function":f=i}n.moSides[e]={active:!1,size:a,triggerSize:l,toggle:c,callback:f},c&&t(c).on(o,function(t){r(n,e),t.preventDefault()})}}});var c=n.moSides;if(c.left||c.right||c.bottom||c.top){var f=i.clean?i.clean:!1,m=i.preventScroll?i.preventScroll:!1,b="number"==typeof i.triggerLength?i.triggerLength:t(window).width()/3,h=i.dragCallback?i.dragCallback:null,s=i.grabCallback?i.grabCallback:null,d=i.dropCallback?i.dropCallback:null;(c.left.triggerSize||c.right.triggerSize||c.top.triggerSize||c.bottom.triggerSize)&&(b={left:c.left.triggerSize?c.left.triggerSize:0,right:c.right.triggerSize?c.right.triggerSize:0,top:c.top.triggerSize?c.top.triggerSize:0,bottom:c.bottom.triggerSize?c.bottom.triggerSize:0}),t(n).dragAndDrop({lock:!0,clean:f,container:!1,preventScroll:m,axis:{x:c.left||c.right?!0:!1,y:c.top||c.bottom?!0:!1},grabCallback:function(t){e(this.target[0]),s&&this.grabCallback(t)},dragCallback:h,dropCallback:d,elasticLength:0,triggerLength:b,elasticTrigger:function(){r(n)}})}}"function"==typeof g&&g()}else{if(!t(this)[0].moSides)return;if("destroy"==i)for(var l=0;l<a.length;l++){var n=a[l];n.moSides&&(t.each(n.moSides,function(e,i){if(i){var r=n.moSides[e];r.toggle&&t(r.toggle).off(o)}}),n.moSides=null,t(n).dragAndDrop("destroy"))}}}}})}(jQuery);