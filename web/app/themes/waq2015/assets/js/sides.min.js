!function(t){function e(t){var e=t.moGrab.s,i=t.moSides;i.left&&i.left.active?(e.min.x=e.max.x=i.left.size,e.triggerLength={right:i.left.triggerSize?i.left.triggerSize:0,left:0,top:0,bottom:0}):i.right&&i.right.active?(e.min.x=e.max.x=-i.right.size,e.triggerLength={left:i.right.triggerSize?i.right.triggerSize:0,right:0,top:0,bottom:0}):i.top&&i.top.active?(e.min.y=e.max.y=i.top.size,e.triggerLength={top:i.bottom.triggerSize?i.bottom.triggerSize:0,left:0,right:0,bottom:0}):i.bottom&&i.bottom.active?(e.min.y=e.max.y=-i.bottom.size,e.triggerLength={bottom:i.top.triggerSize?i.top.triggerSize:0,left:0,right:0,top:0}):(e.min=e.max={x:0,y:0},e.triggerLength={left:i.left.triggerSize?i.left.triggerSize:0,right:i.right.triggerSize?i.right.triggerSize:0,top:i.top.triggerSize?i.top.triggerSize:0,bottom:i.bottom.triggerSize?i.bottom.triggerSize:0})}function i(e,i){var r=e.moSides;t.each(r,function(t){r[t].active=t==i?!r[t].active:!1})}function r(e,r){var o=e.moSides,g=e.moGrab.s,a=e.moGrab.drag;if(r||g.axis.x&&a.locked.x){if("left"==r||o.left&&(o.left.active?a.delta.x<0:a.delta.x>0)&&a.origin.x>=0)return i(e,"left"),"function"==typeof o.left.callback&&o.left.callback(g),a.target.x=o.left.active?o.left.size:0,a.target.y=0,void t(document).trigger("release",e);if("right"==r||o.right&&(o.right.active?a.delta.x>0:a.delta.x<0)&&a.origin.x<=0)return i(e,"right"),"function"==typeof o.right.callback&&o.right.callback(g),a.target.x=o.right.active?-o.right.size:0,a.target.y=0,void t(document).trigger("release",e)}if(r||g.axis.y&&a.locked.y){if(r="top")return i(e,"top"),"function"==typeof o.top.callback&&o.top.callback(g),a.target.y=o.top.active?o.top.size:0,a.target.x=0,void t(document).trigger("release",e);if("bottom"==r||o.bottom&&(o.bottom.active?a.delta.y>0:a.delta.y<0)&&a.origin.y<=0)return i(e,"bottom"),"function"==typeof o.bottom.callback&&o.bottom.callback(g),a.target.y=o.bottom.active?-o.bottom.size:0,a.target.x=0,void t(document).trigger("release",e)}t(document).trigger("release",e)}var o=("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,"click"),g=t(window);t.extend(t.fn,{moSides:function(i,a){if(0!=t(this).length){var l=t(this);if("string"!=typeof i){for(var c=0;c<l.length;c++){var n=l[c];n.moSides||(n.moSides={top:!1,right:!1,bottom:!1,left:!1}),t.each(i,function(e,g){if(g){var a=n.moSides[e];if(0==a){var l=0,c=null,f=null,b=null;switch(typeof g){case"number":l=g;break;case"object":g.size&&(l=g.size),g.callback&&(b=g.callback),g.toggle&&(f=g.toggle),c=g.triggerSize?g.triggerSize:l/2;break;case"function":b=g}n.moSides[e]={active:!1,size:l,triggerSize:c,toggle:f,callback:b},f&&t(f).on(o,function(t){var o=n.moSides[e].active;i.toggleCallback&&"function"==typeof i.toggleCallback&&i.toggleCallback(o),r(n,e),t.preventDefault()})}}});var f=n.moSides;if(f.left||f.right||f.bottom||f.top){{var b=i.clean?i.clean:!1,m=i.preventScroll?i.preventScroll:!1,s="number"==typeof i.triggerLength?i.triggerLength:g.width()/3,h=i.dragCallback?i.dragCallback:null,d=i.grabCallback?i.grabCallback:null,S=i.dropCallback?i.dropCallback:null;i.toggleCallback?i.toggleCallback:null}(f.left.triggerSize||f.right.triggerSize||f.top.triggerSize||f.bottom.triggerSize)&&(s={left:f.left.triggerSize?f.left.triggerSize:0,right:f.right.triggerSize?f.right.triggerSize:0,top:f.top.triggerSize?f.top.triggerSize:0,bottom:f.bottom.triggerSize?f.bottom.triggerSize:0}),t(n).dragAndDrop({lock:!0,clean:b,container:!1,preventScroll:m,axis:{x:f.left||f.right?!0:!1,y:f.top||f.bottom?!0:!1},grabCallback:function(t){e(this.target[0]),d&&this.grabCallback(t)},dragCallback:h,dropCallback:S,elasticLength:0,triggerLength:s,elasticTrigger:function(){r(n)}})}}"function"==typeof a&&a()}else{if(!t(this)[0].moSides)return;if("destroy"==i)for(var c=0;c<l.length;c++){var n=l[c];n.moSides&&(t.each(n.moSides,function(e,i){if(i){var r=n.moSides[e];r.toggle&&t(r.toggle).off(o)}}),n.moSides=null,t(n).dragAndDrop("destroy"))}}}}})}(jQuery);